$iphone-portrait: 320px !default
$iphone-landscape: 480px !default

$iphone5-portrait: 320px !default
$iphone5-landscape: 568px !default

$ipad-portrait: 768px !default
$ipad-landscape: 1024px !default
$desktop: 1025px !default
$desktop-large: 1280px !default
$desktop-huge: 1600px !default

$viewport-short: 768px !default
$viewport-medium: 900px !default
$viewport-tall: 1200px !default

$aspect-skinny: '1/4' !default
$aspect-slim: '1/2' !default
$aspect-portrait: '2/3' !default
$aspect-square: '1/1' !default
$aspect-landscape: '3/2' !default
$aspect-wide: '2/1' !default
$aspect-fat: '4/1' !default

$aspect-iphone: '2/3' !default
$aspect-iphone5: '40/71' !default

=for-landscape
  @media only screen and (orientation: landscape)
    @content

=for-portrait
  @media only screen and (orientation: portrait)
    @content

// Specific device targeting
// Use: Only use if you want the style to respond to one device
// Example:
//     +respond_to(ipad-landscape)
// will apply CSS only to an iPad at landscape rotation

=for-device($device)
  @if $device == iphone
    @media only screen and (min-device-width: $iphone-portrait) and (max-device-width: $iphone-landscape)
      @content

  @if $device == iphone-landscape
    @media only screen and (device-width: $iphone-landscape) and (orientation: landscape)
      @content

  @if $device == iphone-portrait
    @media only screen and (device-width: $iphone-portrait) and (orientation: portrait)
      @content

  @if $device == iphone5
    @media only screen and (device-height: $iphone5-landscape) and (-webkit-min-device-pixel-ratio: 2)
      @content

  @if $device == iphone5-landscape
    @media only screen and (device-width: $iphone5-landscape) and (orientation: landscape)
      @content

  @if $device == iphone5-portrait
    @media only screen and (device-width: $iphone5-portrait) and (orientation: portrait)
      @content

  @if $device == ipad
    @media only screen and (min-width : 768px) and (max-width : 1024px)
      @content

  @if $device == ipad-landscape
    @media only screen and (min-width : 768px) and (max-width : 1024px) and (orientation: landscape)
      @content

  @if $device == ipad-portrait
    @media only screen and (min-width : 768px) and (max-width : 1024px) and (orientation: portrait)
      @content

  @if $device == desktop
    @media only screen and (min-width: $desktop)
      @content

  @if $device == desktop-large
    @media only screen and (min-width: $desktop-large)
      @content

  @if $device == viewport-short
    @media only screen and (max-height: $viewport-short)
      @content

  @if $device == viewport-medium
    @media only screen and (max-height: $viewport-medium) and (min-height: $viewport-short)
      @content

  @if $device == viewport-tall
    @media only screen and (min-height: $viewport-tall)
      @content

=for-aspect($ratio)
  @if $ratio == skinny
    @media only screen and (min-aspect-ratio: #{$aspect-skinny})
      @content

  @if $ratio == slim
    @media only screen and (min-aspect-ratio: #{$aspect-slim}) and (max-aspect-ratio: #{$aspect-skinny})
      @content

  @if $ratio == portrait
    @media only screen and (min-aspect-ratio: #{$aspect-portrait}) and (max-aspect-ratio: #{$aspect-slim})
      @content

  @if $ratio == square
    @media only screen and (min-aspect-ratio: #{$aspect-square}) and (max-aspect-ratio: #{$aspect-portrait})
      @content

  @if $ratio == landscape
    @media only screen and (max-aspect-ratio: #{$aspect-landscape}) and (min-aspect-ratio: #{$aspect-square})
      @content

  @if $ratio == wide
    @media only screen and (max-aspect-ratio: #{$aspect-wide}) and (min-aspect-ratio: #{$aspect-landscape})
      @content

  @if $ratio == fat
    @media only screen and (max-aspect-ratio: #{$aspect-fat})
      @content

  @if $ratio == iphone
    @media only screen and (device-aspect-ratio: #{$aspect-iphone})
      @content

  @if $ratio == iphone5
    @media only screen and (device-aspect-ratio: #{$aspect-iphone5})
      @content

// General device targeting
// Use: Only use if you want the style to apply to many devices
// Example:
//     +apply_to(smaller-than, iphone-portrait)
// will apply CSS to anything smaller than an iPhone-portrait
=for-breakpoint($ltgt, $device, $dimension: width)
  $extrema: null

  @if $ltgt == less-than
    $extrema: max

  @if $ltgt == greater-than
    $extrema: min

  @if type_of($device) == number
    @media only screen and (#{$extrema}-#{$dimension}: $device)
      @content
  @else
    @if $device == iphone-landscape
      @media only screen and (#{$extrema}-#{$dimension}: $iphone-landscape)
        @content

    @if $device == iphone-portrait
      @media only screen and (#{$extrema}-#{$dimension}: $iphone-portrait)
        @content

    @if $device == ipad-landscape
      @media only screen and (#{$extrema}-#{$dimension}: $ipad-landscape)
        @content

    @if $device == ipad-portrait
      @media only screen and (#{$extrema}-#{$dimension}: $ipad-portrait)
        @content

    @if $device == desktop
      @media only screen and (#{$extrema}-#{$dimension}: $desktop)
        @content

    @if $device == desktop-large
      @media only screen and (#{$extrema}-#{$dimension}: $desktop-large)
        @content

    @if $device == desktop-huge
      @media only screen and (#{$extrema}-#{$dimension}: $desktop-huge)
        @content
